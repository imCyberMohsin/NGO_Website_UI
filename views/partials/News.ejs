<!-- New Page Component -->

<style>
    /*? News Page CSS  */

#news-container {
    width: 100%;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    padding-top: 80px;
}

.news-article {
    margin: 2% 0;
    width: 360px;
    /* height: 400px; */
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0px 0px 3px grey;
}

h2 {
    font-size: 1.5rem;
    margin: 0;
    color: #333;
}

.news-image {
    max-width: 100%;
    height: auto;
}

.news-description {
    font-size: 1rem;
    margin-top: 10px;
    color: #666;
}

.read-more {
    display: block;
    margin-top: 10px;
    color: #4d5a70;
    transition: all 0.2s ease-in-out;
    font-weight: bold;
    text-decoration: none;
}
.read-more:hover {
    color: #EF4444;
}


@media (max-width: 768px) {
    #news-container {
        grid-template-columns: repeat(2, 1fr);
        flex-wrap: wrap;
    }
}
</style>

<!--! News Content RSS Feed -->
<div id="news-container">
    <!-- News articles will be displayed here -->
</div>


<!--! News Page Script  -->
<script>
// Function to fetch and display news from the RSS feed
async function fetchNews() {
    const rssFeedURL = "https://timesofindia.indiatimes.com/rssfeeds/-2128830821.cms";
    const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${rssFeedURL}`);
    const data = await response.json();

    const newsContainer = document.getElementById("news-container");

    if (data.status === "ok" && data.items.length > 0) {
        data.items.forEach((item) => {
            const article = document.createElement("div");
            article.classList.add("news-article");

            const title = document.createElement("h2");
            title.textContent = item.title;

            const image = document.createElement("img");
            image.classList.add("news-image");
            image.src = item.enclosure.link; // Assuming the image is in the "enclosure" field

            const description = document.createElement("p");
            description.classList.add("news-description");
            description.textContent = item.description.replace(/<[^>]*>/g, ''); // Remove HTML tags from description

            const link = document.createElement("a");
            link.href = item.link;
            link.textContent = "Read more";
            link.classList.add("read-more");
            link.target = "_blank"; // Open link in a new tab

            article.appendChild(title);
            article.appendChild(image);
            article.appendChild(description);
            article.appendChild(link);

            newsContainer.appendChild(article);
        });
    } else {
        newsContainer.textContent = "Unable to fetch news.";
    }
}

// Fetch and display news on page load
window.addEventListener("load", fetchNews);
</script>